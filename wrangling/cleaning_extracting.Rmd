---
title: "Cleaning and Extracting Post Injury Data"
author: "Giles Carlos"
date: "2023-04-06"
output: html_document
---

```{r}
library(dplyr)
library(xlsx)

# Loading in data and cleaning names
post_injury <- read.xlsx(file = here::here("data/A111.1 Ladder Beam Post-Injury.xls"), 
                         sheetName = "Summary", 
                         rowIndex = 6:36, 
                         colIndex = 3:9) %>% 
  janitor::clean_names() 

# Adding column for type of mice
# w - wildtype
# k - knock-out
# v - vehicle
post_injury <- post_injury %>% 
  mutate(type = case_when(
    animal %in% c("1", "3", "8", "10", "13", "15", "20", "22", "25", "27", "31", "32") ~ "w",
    animal %in% c("2", "4", "7", "9", "14", "16", "19", "21", "26", "28") ~ "k",
    animal %in% c("5", "6", "11", "12", "17", "18", "23", "24", "29", "30") ~ "v"))

# selecting appropriate categories
post_injury <- 
  post_injury %>% 
  select(animal, ave_good, ave_bad, lb_score, type)
  
post_injury
```



